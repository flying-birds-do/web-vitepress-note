# 2.2 贫血模型和充血模型

## 2.2.1 贫血模型

贫血模型指的是只有属性没有行为的模型。 我们目前开发中经常用的Java Bean，实际上就是贫血模型，例如：

```java
/**
 * Computer类中只有属性，没有行为，所以是贫血模型
 */
@Data
public class Computer {

    /**
     * 操作系统
     */
    private String os;

    /**
     * 键盘
     */
    private String keyboard;
    //……其他属性
}
```

## 2.2.2 充血模型

充血模型是指既有属性也有行为的模型。

如果我们采用面向对象的思想去建模，则产出的模型应该既有属性，也有行为，那么这种模型就是充血模型。例如下面的TV类，既有属性（playlist），也有行为（play方法），则TV是充血模型：

```java

@Data
public class TV {
    /**
     * 节目单
     */
    public List<String> playlist;

    /**
     * 播放节目
     */
    public void play() {

    }
}
```

对象的属性，指的是对象的内部状态；对象的行为，指的是对象具备的能力，也就是我们所预期的业务逻辑。

### 2.2.3 DDD对模型的要求

大部分Java程序员习惯了使用贫血模型：先通过ORM框架从数据库查询数据，然后在Service层的方法中操作这些数据对象完成业务逻辑，然后Service层中调用ORM框架对数据库做更新。原本Service只需要给模型一个执行环境，现在需要又当爹又当妈把所有业务逻辑实现了再把结果更新到数据库，同时要兼顾数据库事务，稍微遗漏了业务逻辑的约束，就会造成问题。

DDD要求充血模型的原因，在于模型的行为也是模型的一部分。贫血模型只是提供了属性数据的容器，然后向Service公开了这些属性，操作这些属性完成业务逻辑的职责转嫁给了Service，这会导致Service所有的方法都必须充分了解模型的领域知识，面向对象三大特征之一的封装性荡然无存。

我们经常看到某个业务校验的逻辑在每个Service方法里面都出现一次，就是贫血模型泄漏了领域知识造成的。